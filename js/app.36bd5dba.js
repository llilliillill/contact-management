(function(){"use strict";var e={1595:function(e,t,n){var a=n(5130),o=n(6768);function c(e,t){const n=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.Wv)(n)}var l=n(1241);const r={},u=(0,l.A)(r,[["render",c]]);var s=u,i=n(1387),d=n(144),p=(n(4114),n(3367));const m=(0,p.nY)("HomeStore",(()=>{const e=(0,d.KR)(!1),t=(0,d.KR)(null),n=(0,d.KR)([]),a=(0,d.KR)(""),o=(0,d.KR)(""),c=(0,d.KR)(""),l=(0,d.KR)(""),r=(0,d.KR)({id:0,username:"",email:"",phone:""}),u=e=>(console.log(e),n.value.filter((t=>t.id===e))),s=()=>n.value.filter((e=>e.username.toLowerCase().includes(a.value.toLowerCase().trim()))),i=n=>{n?(t.value=n.id,o.value=n.username,c.value=n.email,l.value=n.phone):(t.value=null,v()),e.value=!e.value},p=async()=>{const e=await fetch("https://jsonplaceholder.typicode.com/users"),t=await e.json(),n=[];t.forEach(((e,t)=>{n.push({id:t+1,username:e.name,email:e.email,phone:e.phone})})),localStorage.getItem("contacts")&&"[]"!==localStorage.getItem("contacts")||localStorage.setItem("contacts",JSON.stringify(n)),g()},m=e=>{b(e)},v=()=>{o.value="",c.value="",l.value="",r.value={id:0,username:"",email:"",phone:""}},f=e=>/^([A-Za-z0-9_\-.])+@([A-Za-z0-9_\-.])+\.([A-Za-z]{2,4})$/.test(e),h=()=>(""!==o.value?r.value.username="":r.value.username="Заполните поле имя",f(c.value)?r.value.email="":r.value.email="Некорректный email",""!==l.value?r.value.phone="":r.value.phone="Заполните поле телефон",f(c.value)&&""!==o.value&&""!==l.value),k=e=>{if(localStorage.getItem("contacts")){const t=R();t.push(e),_(t)}else _([e]);g()},b=e=>{let t=R();t=t.filter((t=>t.id!==e)),_(t),g()},C=e=>{let n=R();n=n.map((n=>n.id===t.value?{id:n.id,username:e.username,email:e.email,phone:e.phone}:n)),_(n),g()},R=()=>JSON.parse(String(localStorage.getItem("contacts"))),_=e=>{localStorage.setItem("contacts",JSON.stringify(e))},g=()=>{n.value=R()},y=e=>{h()&&(k(e),i())},L=e=>{h()&&(C(e),i())};return{contacts:n,getContactById:u,openModal:i,mdlContactForm:e,getContacts:p,addContact:y,contactError:r,deleteContact:m,idEdit:t,editContact:L,search:a,getSearchContact:s,updateContacts:g,username:o,email:c,phone:l}}));var v=(0,o.pM)({__name:"SearchBar",setup(e){const t=m(),n=(0,d.KR)(""),c=()=>{t.search=n.value};return(e,t)=>((0,o.uX)(),(0,o.CE)("section",null,[(0,o.bo)((0,o.Lk)("input",{class:"search","onUpdate:modelValue":t[0]||(t[0]=e=>n.value=e),type:"text",placeholder:"Найти",onKeydown:t[1]||(t[1]=(0,a.jR)((e=>c()),["enter"]))},null,544),[[a.Jo,n.value]]),(0,o.Lk)("button",{onClick:t[2]||(t[2]=e=>c())}," Поиск ")]))}});const f=(0,l.A)(v,[["__scopeId","data-v-4d39d89c"]]);var h=f,k=n(4232);const b=e=>((0,o.Qi)("data-v-74b2bdc2"),e=e(),(0,o.jt)(),e),C={class:"contact"},R={class:"text"},_={class:"title"},g=b((()=>(0,o.Lk)("b",null,"Имя:",-1))),y={class:"title"},L=b((()=>(0,o.Lk)("b",null,"Email:",-1))),E={class:"title"},w=b((()=>(0,o.Lk)("b",null,"Телефон:",-1)));var S=(0,o.pM)({__name:"ContactItem",props:{contact:{},clear:{type:Function,default:()=>!1},edit:{type:Function,default:()=>!1}},setup(e){return(e,t)=>((0,o.uX)(),(0,o.CE)("li",C,[(0,o.Lk)("div",R,[(0,o.Lk)("span",_,[g,(0,o.eW)(" "+(0,k.v_)(e.contact.username),1)]),(0,o.Lk)("span",y,[L,(0,o.eW)(" "+(0,k.v_)(e.contact.email),1)]),(0,o.Lk)("span",E,[w,(0,o.eW)(" "+(0,k.v_)(e.contact.phone),1)])]),(0,o.Lk)("button",{onClick:t[0]||(t[0]=t=>e.edit(e.contact))},"✎"),(0,o.Lk)("button",{onClick:t[1]||(t[1]=t=>e.clear(e.contact.id))},"✖")]))}});const O=(0,l.A)(S,[["__scopeId","data-v-74b2bdc2"]]);var X=O;const F=e=>((0,o.Qi)("data-v-750bf85c"),e=e(),(0,o.jt)(),e),I={class:"header"},j=F((()=>(0,o.Lk)("h3",{class:"title"}," Список контактов: ",-1))),K={key:0,class:"contact_list"},x={key:1,class:"empty"};var M=(0,o.pM)({__name:"ContactList",props:{contacts:{},add:{type:Function}},setup(e){const t=m();return(e,n)=>((0,o.uX)(),(0,o.CE)("section",null,[(0,o.Lk)("div",I,[j,(0,o.Lk)("button",{title:"Добавить контакт",onClick:n[0]||(n[0]=t=>e.add())}," + Добавить ")]),(0,d.R1)(t).contacts.length?((0,o.uX)(),(0,o.CE)("ul",K,[(0,o.bF)(a.F,{name:"list"},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)((0,d.R1)(t).getSearchContact(),(e=>((0,o.uX)(),(0,o.Wv)(X,{key:e.id,contact:e,clear:(0,d.R1)(t).deleteContact,edit:(0,d.R1)(t).openModal},null,8,["contact","clear","edit"])))),128))])),_:1})])):((0,o.uX)(),(0,o.CE)("div",x," Нет контактов "))]))}});const A=(0,l.A)(M,[["__scopeId","data-v-750bf85c"]]);var J=A;const V={class:"header"},W={key:0,class:"title"},U={key:1,class:"title"},z={class:"body"},N={class:"error"},Z={class:"error"},B={class:"error"};var D=(0,o.pM)({__name:"ContactForm",setup(e){const t=m();return(e,n)=>((0,o.uX)(),(0,o.CE)("section",null,[(0,o.Lk)("form",{class:"contact_form",onSubmit:n[6]||(n[6]=(0,a.D$)((()=>{}),["prevent"]))},[(0,o.Lk)("div",V,[(0,d.R1)(t).idEdit?((0,o.uX)(),(0,o.CE)("span",W,"Изменить контакт:")):((0,o.uX)(),(0,o.CE)("span",U,"Создать контакт:")),(0,o.Lk)("button",{onClick:n[0]||(n[0]=e=>(0,d.R1)(t).openModal())},"✖")]),(0,o.Lk)("div",z,[(0,o.Lk)("span",N,(0,k.v_)((0,d.R1)(t).contactError.username),1),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":n[1]||(n[1]=e=>(0,d.R1)(t).username=e),type:"text",placeholder:"Имя"},null,512),[[a.Jo,(0,d.R1)(t).username]]),(0,o.Lk)("span",Z,(0,k.v_)((0,d.R1)(t).contactError.email),1),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":n[2]||(n[2]=e=>(0,d.R1)(t).email=e),type:"text",placeholder:"Email"},null,512),[[a.Jo,(0,d.R1)(t).email]]),(0,o.Lk)("span",B,(0,k.v_)((0,d.R1)(t).contactError.phone),1),(0,o.bo)((0,o.Lk)("input",{"onUpdate:modelValue":n[3]||(n[3]=e=>(0,d.R1)(t).phone=e),type:"text",placeholder:"Телефон"},null,512),[[a.Jo,(0,d.R1)(t).phone]]),(0,d.R1)(t).idEdit?((0,o.uX)(),(0,o.CE)("button",{key:0,onClick:n[4]||(n[4]=e=>(0,d.R1)(t).editContact({id:0,username:(0,d.R1)(t).username,email:(0,d.R1)(t).email,phone:(0,d.R1)(t).phone}))}," Изменить ")):((0,o.uX)(),(0,o.CE)("button",{key:1,onClick:n[5]||(n[5]=e=>(0,d.R1)(t).addContact({id:Date.now(),username:(0,d.R1)(t).username,email:(0,d.R1)(t).email,phone:(0,d.R1)(t).phone}))}," Создать "))])],32)]))}});const H=(0,l.A)(D,[["__scopeId","data-v-9b9d2dce"]]);var P=H,Q=(0,o.pM)({__name:"HomeView",setup(e){document.title="Управление контактами";const t=m();return t.getContacts(),(e,n)=>((0,o.uX)(),(0,o.CE)("section",null,[(0,o.bo)((0,o.bF)(P,null,null,512),[[a.aG,(0,d.R1)(t).mdlContactForm]]),(0,o.bF)(h),(0,o.bF)(J,{contacts:(0,d.R1)(t).contacts,add:(0,d.R1)(t).openModal},null,8,["contacts","add"])]))}});const T=Q;var $=T;const G=[{path:"/",name:"home",component:$}],Y=(0,i.aE)({history:(0,i.LA)("/contact-management/"),routes:G});var q=Y;const ee=(0,p.Ey)(),te=(0,a.Ef)(s);te.use(q),te.use(ee),te.mount("#app")}},t={};function n(a){var o=t[a];if(void 0!==o)return o.exports;var c=t[a]={exports:{}};return e[a].call(c.exports,c,c.exports,n),c.exports}n.m=e,function(){var e=[];n.O=function(t,a,o,c){if(!a){var l=1/0;for(i=0;i<e.length;i++){a=e[i][0],o=e[i][1],c=e[i][2];for(var r=!0,u=0;u<a.length;u++)(!1&c||l>=c)&&Object.keys(n.O).every((function(e){return n.O[e](a[u])}))?a.splice(u--,1):(r=!1,c<l&&(l=c));if(r){e.splice(i--,1);var s=o();void 0!==s&&(t=s)}}return t}c=c||0;for(var i=e.length;i>0&&e[i-1][2]>c;i--)e[i]=e[i-1];e[i]=[a,o,c]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var a in t)n.o(t,a)&&!n.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={524:0};n.O.j=function(t){return 0===e[t]};var t=function(t,a){var o,c,l=a[0],r=a[1],u=a[2],s=0;if(l.some((function(t){return 0!==e[t]}))){for(o in r)n.o(r,o)&&(n.m[o]=r[o]);if(u)var i=u(n)}for(t&&t(a);s<l.length;s++)c=l[s],n.o(e,c)&&e[c]&&e[c][0](),e[c]=0;return n.O(i)},a=self["webpackChunkcontact_management"]=self["webpackChunkcontact_management"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=n.O(void 0,[504],(function(){return n(1595)}));a=n.O(a)})();
//# sourceMappingURL=app.36bd5dba.js.map